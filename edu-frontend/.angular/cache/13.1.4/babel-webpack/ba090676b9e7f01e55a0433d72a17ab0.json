{"ast":null,"code":"import _asyncToGenerator from \"E:\\\\Erantha\\\\Workspaces - Tech\\\\Keycloak\\\\keycloak-edu\\\\edu-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Student, StudentAttributes } from '../models/student';\nimport * as i0 from \"@angular/core\";\nexport class DashboardComponent {\n  constructor() {\n    this.studentCreationForm = new FormGroup({\n      firstName: new FormControl(null, Validators.required),\n      lastName: new FormControl(null, Validators.required),\n      email: new FormControl(null, [Validators.required, Validators.email]),\n      password: new FormControl(null, Validators.required),\n      regNumber: new FormControl(null, Validators.required),\n      grade: new FormControl(null)\n    });\n  }\n\n  ngOnInit() {}\n\n  onSubmit() {\n    var _this = this;\n\n    if (this.studentCreationForm.valid) {\n      var studentAttributes = new StudentAttributes(this.studentCreationForm.value.regNumber, this.studentCreationForm.value.grade);\n      var loginCredentials = new Student(this.studentCreationForm.value.firstName, this.studentCreationForm.value.lastName, this.studentCreationForm.value.email, studentAttributes);\n      this.userService.loginUser(loginCredentials).subscribe({\n        next: function () {\n          var _ref = _asyncToGenerator(function* (response) {\n            const expires_in = response.expires_in;\n            var expiry_time = new Date();\n            expiry_time.setTime(expiry_time.getTime() + expires_in * 1000);\n\n            _this.cookieService.set(\"AUTH_SESSION_ID\", response.session_state, expiry_time);\n\n            _this.cookieService.set(\"AUTH_SESSION_ID_LEGACY\", response.session_state, expiry_time);\n\n            _this.cookieService.set(\"KEYCLOAK_IDENTITY\", response.access_token, expiry_time);\n\n            _this.cookieService.set(\"KEYCLOAK_IDENTITY_LEGACY\", response.access_token, expiry_time);\n\n            _this.cookieService.set(\"KEYCLOAK_LOCALE\", 'en');\n\n            _this.cookieService.set(\"KEYCLOAK_SESSION\", `${environment.REALM_NAME}${response.session_state}`, expiry_time);\n\n            _this.cookieService.set(\"KEYCLOAK_SESSION_LEGACY\", `${environment.REALM_NAME}${response.session_state}`, expiry_time);\n          });\n\n          return function next(_x) {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        error: error => {}\n      });\n    }\n  }\n\n}\n\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n  return new (t || DashboardComponent)();\n};\n\nDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DashboardComponent,\n  selectors: [[\"app-dashboard\"]],\n  decls: 62,\n  vars: 0,\n  consts: [[1, \"card-deck\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [\"href\", \"#\", \"data-toggle\", \"modal\", \"data-target\", \"#createStudentModal\", 1, \"btn\", \"btn-primary\"], [1, \"text-muted\"], [\"id\", \"createStudentModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"createStudentModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"createStudentModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"container\", \"my-auto\"], [1, \"row\"], [1, \"col-md-10\", \"offset-md-2\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"id\", \"emailHelp\", 1, \"form-text\", \"text-muted\"], [\"for\", \"exampleInputPassword1\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Password\", 1, \"form-control\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"float-right\", \"btn\", \"btn-primary\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"]],\n  template: function DashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"h5\", 3);\n      i0.ɵɵtext(4, \"Students\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 4);\n      i0.ɵɵtext(6, \"A student is primarily a person enrolled in a school or other educational institution and who is under learning with goals of acquiring knowledge, developing professions and achieving employment in a desired field.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"a\", 5);\n      i0.ɵɵtext(8, \"Create Student\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 1);\n      i0.ɵɵelementStart(10, \"div\", 2);\n      i0.ɵɵelementStart(11, \"h5\", 3);\n      i0.ɵɵtext(12, \"Card title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"p\", 4);\n      i0.ɵɵtext(14, \"This card has supporting text below as a natural lead-in to additional content.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"p\", 4);\n      i0.ɵɵelementStart(16, \"small\", 6);\n      i0.ɵɵtext(17, \"Last updated 3 mins ago\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 1);\n      i0.ɵɵelementStart(19, \"div\", 2);\n      i0.ɵɵelementStart(20, \"h5\", 3);\n      i0.ɵɵtext(21, \"Card title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"p\", 4);\n      i0.ɵɵtext(23, \"This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"p\", 4);\n      i0.ɵɵelementStart(25, \"small\", 6);\n      i0.ɵɵtext(26, \"Last updated 3 mins ago\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 7);\n      i0.ɵɵelementStart(28, \"div\", 8);\n      i0.ɵɵelementStart(29, \"div\", 9);\n      i0.ɵɵelementStart(30, \"div\", 10);\n      i0.ɵɵelementStart(31, \"h5\", 11);\n      i0.ɵɵtext(32, \"Modal title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"button\", 12);\n      i0.ɵɵelementStart(34, \"span\", 13);\n      i0.ɵɵtext(35, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 14);\n      i0.ɵɵelementStart(37, \"div\", 15);\n      i0.ɵɵelementStart(38, \"div\", 16);\n      i0.ɵɵelementStart(39, \"div\", 17);\n      i0.ɵɵelementStart(40, \"form\");\n      i0.ɵɵelementStart(41, \"div\", 18);\n      i0.ɵɵelementStart(42, \"label\", 19);\n      i0.ɵɵtext(43, \"Email address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(44, \"input\", 20);\n      i0.ɵɵelementStart(45, \"small\", 21);\n      i0.ɵɵtext(46, \"We'll never share your email with anyone else.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"div\", 18);\n      i0.ɵɵelementStart(48, \"label\", 22);\n      i0.ɵɵtext(49, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"input\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"div\", 24);\n      i0.ɵɵelement(52, \"input\", 25);\n      i0.ɵɵelementStart(53, \"label\", 26);\n      i0.ɵɵtext(54, \"Remember Me\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"button\", 27);\n      i0.ɵɵtext(56, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 28);\n      i0.ɵɵelementStart(58, \"button\", 29);\n      i0.ɵɵtext(59, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"button\", 30);\n      i0.ɵɵtext(61, \"Save changes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXNoYm9hcmQuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["E:/Erantha/Workspaces - Tech/Keycloak/keycloak-edu/edu-frontend/src/app/dashboard/dashboard.component.ts"],"names":["FormControl","FormGroup","Validators","Student","StudentAttributes","i0","DashboardComponent","constructor","studentCreationForm","firstName","required","lastName","email","password","regNumber","grade","ngOnInit","onSubmit","valid","studentAttributes","value","loginCredentials","userService","loginUser","subscribe","next","response","expires_in","expiry_time","Date","setTime","getTime","cookieService","set","session_state","access_token","environment","REALM_NAME","error","ɵfac","DashboardComponent_Factory","t","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","styles"],"mappings":"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","sourcesContent":["import { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Student, StudentAttributes } from '../models/student';\r\nimport * as i0 from \"@angular/core\";\r\nexport class DashboardComponent {\r\n    constructor() {\r\n        this.studentCreationForm = new FormGroup({\r\n            firstName: new FormControl(null, Validators.required),\r\n            lastName: new FormControl(null, Validators.required),\r\n            email: new FormControl(null, [Validators.required, Validators.email]),\r\n            password: new FormControl(null, Validators.required),\r\n            regNumber: new FormControl(null, Validators.required),\r\n            grade: new FormControl(null)\r\n        });\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onSubmit() {\r\n        if (this.studentCreationForm.valid) {\r\n            var studentAttributes = new StudentAttributes(this.studentCreationForm.value.regNumber, this.studentCreationForm.value.grade);\r\n            var loginCredentials = new Student(this.studentCreationForm.value.firstName, this.studentCreationForm.value.lastName, this.studentCreationForm.value.email, studentAttributes);\r\n            this.userService.loginUser(loginCredentials).subscribe({\r\n                next: async (response) => {\r\n                    const expires_in = response.expires_in;\r\n                    var expiry_time = new Date();\r\n                    expiry_time.setTime(expiry_time.getTime() + (expires_in * 1000));\r\n                    this.cookieService.set(\"AUTH_SESSION_ID\", response.session_state, expiry_time);\r\n                    this.cookieService.set(\"AUTH_SESSION_ID_LEGACY\", response.session_state, expiry_time);\r\n                    this.cookieService.set(\"KEYCLOAK_IDENTITY\", response.access_token, expiry_time);\r\n                    this.cookieService.set(\"KEYCLOAK_IDENTITY_LEGACY\", response.access_token, expiry_time);\r\n                    this.cookieService.set(\"KEYCLOAK_LOCALE\", 'en');\r\n                    this.cookieService.set(\"KEYCLOAK_SESSION\", `${environment.REALM_NAME}${response.session_state}`, expiry_time);\r\n                    this.cookieService.set(\"KEYCLOAK_SESSION_LEGACY\", `${environment.REALM_NAME}${response.session_state}`, expiry_time);\r\n                },\r\n                error: (error) => {\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) { return new (t || DashboardComponent)(); };\r\nDashboardComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: DashboardComponent, selectors: [[\"app-dashboard\"]], decls: 62, vars: 0, consts: [[1, \"card-deck\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [\"href\", \"#\", \"data-toggle\", \"modal\", \"data-target\", \"#createStudentModal\", 1, \"btn\", \"btn-primary\"], [1, \"text-muted\"], [\"id\", \"createStudentModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"createStudentModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"createStudentModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"container\", \"my-auto\"], [1, \"row\"], [1, \"col-md-10\", \"offset-md-2\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"id\", \"emailHelp\", 1, \"form-text\", \"text-muted\"], [\"for\", \"exampleInputPassword1\"], [\"type\", \"password\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Password\", 1, \"form-control\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"float-right\", \"btn\", \"btn-primary\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"]], template: function DashboardComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"h5\", 3);\r\n        i0.ɵɵtext(4, \"Students\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"p\", 4);\r\n        i0.ɵɵtext(6, \"A student is primarily a person enrolled in a school or other educational institution and who is under learning with goals of acquiring knowledge, developing professions and achieving employment in a desired field.\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"a\", 5);\r\n        i0.ɵɵtext(8, \"Create Student\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 1);\r\n        i0.ɵɵelementStart(10, \"div\", 2);\r\n        i0.ɵɵelementStart(11, \"h5\", 3);\r\n        i0.ɵɵtext(12, \"Card title\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"p\", 4);\r\n        i0.ɵɵtext(14, \"This card has supporting text below as a natural lead-in to additional content.\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"p\", 4);\r\n        i0.ɵɵelementStart(16, \"small\", 6);\r\n        i0.ɵɵtext(17, \"Last updated 3 mins ago\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 1);\r\n        i0.ɵɵelementStart(19, \"div\", 2);\r\n        i0.ɵɵelementStart(20, \"h5\", 3);\r\n        i0.ɵɵtext(21, \"Card title\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"p\", 4);\r\n        i0.ɵɵtext(23, \"This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"p\", 4);\r\n        i0.ɵɵelementStart(25, \"small\", 6);\r\n        i0.ɵɵtext(26, \"Last updated 3 mins ago\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(27, \"div\", 7);\r\n        i0.ɵɵelementStart(28, \"div\", 8);\r\n        i0.ɵɵelementStart(29, \"div\", 9);\r\n        i0.ɵɵelementStart(30, \"div\", 10);\r\n        i0.ɵɵelementStart(31, \"h5\", 11);\r\n        i0.ɵɵtext(32, \"Modal title\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(33, \"button\", 12);\r\n        i0.ɵɵelementStart(34, \"span\", 13);\r\n        i0.ɵɵtext(35, \"\\u00D7\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(36, \"div\", 14);\r\n        i0.ɵɵelementStart(37, \"div\", 15);\r\n        i0.ɵɵelementStart(38, \"div\", 16);\r\n        i0.ɵɵelementStart(39, \"div\", 17);\r\n        i0.ɵɵelementStart(40, \"form\");\r\n        i0.ɵɵelementStart(41, \"div\", 18);\r\n        i0.ɵɵelementStart(42, \"label\", 19);\r\n        i0.ɵɵtext(43, \"Email address\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(44, \"input\", 20);\r\n        i0.ɵɵelementStart(45, \"small\", 21);\r\n        i0.ɵɵtext(46, \"We'll never share your email with anyone else.\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(47, \"div\", 18);\r\n        i0.ɵɵelementStart(48, \"label\", 22);\r\n        i0.ɵɵtext(49, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(50, \"input\", 23);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(51, \"div\", 24);\r\n        i0.ɵɵelement(52, \"input\", 25);\r\n        i0.ɵɵelementStart(53, \"label\", 26);\r\n        i0.ɵɵtext(54, \"Remember Me\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(55, \"button\", 27);\r\n        i0.ɵɵtext(56, \"Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(57, \"div\", 28);\r\n        i0.ɵɵelementStart(58, \"button\", 29);\r\n        i0.ɵɵtext(59, \"Close\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(60, \"button\", 30);\r\n        i0.ɵɵtext(61, \"Save changes\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXNoYm9hcmQuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}